<?php	include_once './classes/DataBaseManager_class.php'; 	include_once './classes/MembreManager_class.php'; 	include_once './include/classes/FormManager_class.php';		class Membre	{		private $_id; 		private $_mdp;		private $_nom; 		private $_prenom; 		private $_adresse;		private $_numTel;		private $_privilege;						public function __construct($id, $mdp, $nom, $prenom, $adresse, $numTel, $privilege)		{			$this->setId($id); 			$this->setMdp($mdp);			$this->setNom($nom); 			$this->setPrenom($prenom); 			$this->setAdresse($adresse);			$this->setNumTel($numTel);			$this->setPrivilege($privilege);		}					public function afficher()		{			echo ' <div class="membre_infos">				   <strong>Id</strong> : '.$this->_id.'<br /> 				   <strong>Nom</strong> : '.$this->_nom.'<br /> 				   <strong>Prenom</strong> : '.$this->_prenom.'<br />				   <strong>Adresse</strong> : '.$this->_adresse.'<br />				   <strong>T&eacute;l&eacute;phone</strong> : '.$this->_numTel.'<br />				   <strong>Privil&egrave;ge</strong> : '.$this->_privilege.'<br />                                </div>';			echo "<br/>";			echo "<hr/>";		}				private function defaultInit()		{			$this->_id = "";			$this->_nom = ""; 			$this->_prenom = "";			$this->_adresse = "";			$this->_numTel = "";			$this->_mdp ="";			$this->_privilege ="";		}				public static function getEmptyMembre()		{			$membre = new Membre("M00000", "mdpM00000", "nom", "prenom", "adresse", "0000000000", "0000"); 			$membre->defaultInit();			return $membre;		}				public static function getMembreFromForm(&$messagesExceptions, $numeroMembre=NULL, $nom=NULL, $prenom=NULL, $mdp=NULL, $adresse=NULL, $numTel=NULL, $privilege=NULL)		{						if (empty($messagesExceptions)) $messagesExceptions = array();			return self::getMembreFromForm2($messagesExceptions, $numeroMembre, $nom, $prenom, $mdp, $adresse, $numTel, $privilege);				}				public static function getMembreFromForm2(&$messagesExceptions, $numeroMembre=NULL, $nom=NULL, $prenom=NULL, $mdp=NULL, $adresse=NULL, $numTel=NULL, $privilege=NULL)		{			$membre = self::getEmptyMembre();			if (empty($messagesExceptions)) $messagesExceptions = ""; 						try 			{ 				$membre->setId($numeroMembre); 			} 			catch (Exception $e) 			{				$messagesExceptions .= $e->getMessage().'<br />'; 			} 			try 			{ 				$membre->setNom($nom); 			} 			catch (Exception $e) 			{				$messagesExceptions .= $e->getMessage().'<br />'; 			} 			try 			{ 				$membre->setPrenom($prenom); 			} 			catch (Exception $e) 			{				$messagesExceptions .= $e->getMessage().'<br />'; 			}			try			{				$membre->setAdresse($adresse);			}			catch (Exception $e)			{				$messagesExceptions .= $e->getMessage().'<br />'; 			}			try			{				$membre->setNumTel($numTel);			}			catch (Exception $e)			{				$messagesExceptions .= $e->getMessage().'<br />'; 			}			try			{				$membre->setMdp($mdp);			}			catch (Exception $e)			{				$messagesExceptions .= $e->getMessage().'<br />'; 			}			try			{				$membre->setPrivilege($privilege);			}			catch (Exception $e)			{				$messagesExceptions .= $e->getMessage().'<br />'; 			}			return $membre;		}						public function generateForm($methode, $action, $messagesExceptions)		{			echo '<div align="center"><b>Merci de saisir les informations suivantes : </b></div>'; echo '<div id="form_inscription">';			if (!empty($messagesExceptions))			{				echo '<div class="messages_erreur"><br>'; 				if (is_array($messagesExceptions) )					foreach ($messagesExceptions as $message) echo $message;				else 					echo $messagesExceptions;				echo '</div>'; 			}			FormManager::beginForm($methode, $action, '');							echo '<h3>Informations personnelles</h3>';								$key = "id";							FormManager::addTextInput("Identifiant", $key, $key, $this->_id, '', '');								$key = "mdp";				FormManager::addPasswordInput("Mot de passe", $key, $key, $this->_mdp, '', '');											$key = "nom";				FormManager::addTextInput("Nom", $key, $key, $this->_nom, '', '');								$key = "prenom";				FormManager::addTextInput("Pr&eacute;nom", $key, $key, $this->_prenom, '', '');								$key = "adresse";				FormManager::addTextInput("Adresse", $key, $key, $this->_adresse, '', '');								$key = "numTel";				FormManager::addTextInput("Num&eacute;ro de t&eacute;l&eacute;phone", $key, $key, $this->_numTel, '', '');										echo '<div align="center" style="clear:both;">';				FormManager::addInput("", "submit", "saisie_membre_submit", "saisie_membre_submit", "Envoyer", "");				echo '</div>';			FormManager::endForm();			echo '</div>'; 		}				/* ---------------------------------------------------------------------------------------------------------------*/ 		public function getId() { return $this->_id; }		public function getNom() { return $this->_nom; }		public function getPrenom() { return $this->_prenom; }		public function getMdp() { return $this->_mdp; }		public function getAdresse() { return $this->_adresse; }		public function getNumTel() { return $this->_numTel; }			public function getPrivilege() { return $this->_privilege; }					/* ------------------------------------------------------------------------------------------------------------*/				public function setId($id)		{			if ($id == null || !is_string($id) || strlen($id) < 1 || strlen($id) > 11)				throw new Exception('Erreur : l\'identifiant est obligatoire et doit comporter au maximum 6 caract&egrave;res.');			else				$this->_id = $id;		}				public function setNom($nom)		{						if ($nom == null || !is_string($nom) || strlen($nom) < 1 || strlen($nom) > 21) 				throw new Exception('Erreur : le nom est obligatoire et doit comporter au maximum 20 caract&egrave;res.');			else				$this->_nom = $nom;		}						public function setPrenom($prenom)		{			if ($prenom == null || !is_string($prenom) || strlen($prenom) < 1 || strlen($prenom) > 21)				throw new Exception('Erreur : le pr&eacute;nom est obligatoire et doit comporter au maximum 20 caract&egrave;res.');			else				$this->_prenom = $prenom;			}				public function setMdp($mdp)		{			if ($mdp == null || strlen($mdp) < 1 || strlen($mdp) > 81)				throw new Exception('Erreur : le mot de passe est obligatoire et doit comporter au maximum 80 caract&egrave;res.');			else				$this->_mdp = $mdp;		}						public function setAdresse($adresse)		{			if ($adresse == null || strlen($adresse) < 1 || strlen($adresse) > 51)				throw new Exception('Erreur : l\'adresse est obligatoire et doit comporter au maximum 50 caract&egrave;res.');			else				$this->_adresse = $adresse;		}								public function setNumTel($numTel)		{			$telephone = preg_replace("/&#91;^0-9&#93;/", "", $numTel);			if (strlen($numTel) < 21)				$this->_numTel = $numTel;                       			else				throw new Exception('Erreur : le num&eacute;ro de t&eacute;l&eacute;phone est invalide.');		}				public function setPrivilege($privilege)		{			if ($privilege == null)				$privilege="utilisateur";				$this->_privilege = $privilege;		}	}?>